#!/bin/bash
# Git pre-commit hook to prevent committing secrets
# Install: ln -s ../../scripts/git-hooks/pre-commit .git/hooks/pre-commit

echo "ğŸ”’ Running secrets check..."
./scripts/check-secrets.sh

if [ $? -ne 0 ]; then
    echo ""
    echo "âŒ Commit blocked: Potential secrets detected"
    echo "If this is a false positive, you can:"
    echo "  1. Fix the issue and commit again"
    echo "  2. Bypass with: git commit --no-verify (NOT RECOMMENDED)"
    exit 1
fi

echo "âœ… Secrets check passed"
exit 0

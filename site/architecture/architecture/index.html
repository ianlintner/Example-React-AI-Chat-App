
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for the project, structured for Backstage TechDocs">
      
      
      
      
        <link rel="prev" href="../system-overview/">
      
      
        <link rel="next" href="../components/agents/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.8">
    
    
      
        <title>Architecture Guide - React Project Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.8608ea7d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#demo-portfolio-architecture--ai--modern-web-engineering-patterns" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="React Project Docs" class="md-header__button md-logo" aria-label="React Project Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            React Project Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Architecture Guide
            
          </span>
        </div>
      </div>
    </div>
    
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="React Project Docs" class="md-nav__button md-logo" aria-label="React Project Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    React Project Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/quickstart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quickstart
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Troubleshooting
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Architecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../system-overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    System Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Architecture Guide
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Architecture Guide
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      Table of Contents
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#system-overview" class="md-nav__link">
    <span class="md-ellipsis">
      System Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="System Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-architectural-principles" class="md-nav__link">
    <span class="md-ellipsis">
      Key Architectural Principles
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#high-level-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      High-Level Architecture
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#component-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Component Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Component Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frontend-architecture-react-native" class="md-nav__link">
    <span class="md-ellipsis">
      Frontend Architecture (React Native)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backend-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Backend Architecture
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-flow-diagrams" class="md-nav__link">
    <span class="md-ellipsis">
      Data Flow Diagrams
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data Flow Diagrams">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#message-processing-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Message Processing Flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-selection-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Agent Selection Flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#goal-seeking-system-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Goal-Seeking System Flow
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#agent-system-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Agent System Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Agent System Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#agent-hierarchy" class="md-nav__link">
    <span class="md-ellipsis">
      Agent Hierarchy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rag-system-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      RAG System Architecture
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database-design" class="md-nav__link">
    <span class="md-ellipsis">
      Database Design
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Database Design">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-models" class="md-nav__link">
    <span class="md-ellipsis">
      Data Models
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storage-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Storage Architecture
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      API Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="API Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rest-api-structure" class="md-nav__link">
    <span class="md-ellipsis">
      REST API Structure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#websocket-event-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      WebSocket Event Architecture
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Security Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Security Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#security-layers" class="md-nav__link">
    <span class="md-ellipsis">
      Security Layers
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Deployment Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Deployment Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#container-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Container Architecture
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      Docker Deployment
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#monitoring--observability" class="md-nav__link">
    <span class="md-ellipsis">
      Monitoring &amp; Observability
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Monitoring &amp; Observability">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#observability-stack" class="md-nav__link">
    <span class="md-ellipsis">
      Observability Stack
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-performance-indicators-kpis" class="md-nav__link">
    <span class="md-ellipsis">
      Key Performance Indicators (KPIs)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Components
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Components
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../components/agents/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Agents
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../components/backend/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Backend
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../components/frontend/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Frontend
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../components/message-queue/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Message Queue
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../components/rag-system/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RAG System
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../components/validation-system/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Validation System
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Operations
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Operations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/ci-cd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CI/CD
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/observability/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Observability
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/prometheus-grafana/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prometheus & Grafana
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../operations/tracing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tracing
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/api-reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/code-quality/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code Quality
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/docker-setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/test-bench/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Bench
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/test-bench-openapi.yaml" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Test Bench OpenAPI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/youtube-embedding/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    YouTube Embedding
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/external-app/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    External App
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      Table of Contents
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#system-overview" class="md-nav__link">
    <span class="md-ellipsis">
      System Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="System Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-architectural-principles" class="md-nav__link">
    <span class="md-ellipsis">
      Key Architectural Principles
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#high-level-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      High-Level Architecture
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#component-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Component Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Component Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frontend-architecture-react-native" class="md-nav__link">
    <span class="md-ellipsis">
      Frontend Architecture (React Native)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backend-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Backend Architecture
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-flow-diagrams" class="md-nav__link">
    <span class="md-ellipsis">
      Data Flow Diagrams
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data Flow Diagrams">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#message-processing-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Message Processing Flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-selection-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Agent Selection Flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#goal-seeking-system-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Goal-Seeking System Flow
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#agent-system-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Agent System Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Agent System Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#agent-hierarchy" class="md-nav__link">
    <span class="md-ellipsis">
      Agent Hierarchy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rag-system-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      RAG System Architecture
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database-design" class="md-nav__link">
    <span class="md-ellipsis">
      Database Design
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Database Design">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-models" class="md-nav__link">
    <span class="md-ellipsis">
      Data Models
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storage-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Storage Architecture
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      API Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="API Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rest-api-structure" class="md-nav__link">
    <span class="md-ellipsis">
      REST API Structure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#websocket-event-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      WebSocket Event Architecture
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Security Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Security Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#security-layers" class="md-nav__link">
    <span class="md-ellipsis">
      Security Layers
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Deployment Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Deployment Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#container-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      Container Architecture
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      Docker Deployment
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#monitoring--observability" class="md-nav__link">
    <span class="md-ellipsis">
      Monitoring &amp; Observability
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Monitoring &amp; Observability">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#observability-stack" class="md-nav__link">
    <span class="md-ellipsis">
      Observability Stack
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-performance-indicators-kpis" class="md-nav__link">
    <span class="md-ellipsis">
      Key Performance Indicators (KPIs)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="demo-portfolio-architecture--ai--modern-web-engineering-patterns">Demo Portfolio Architecture ‚Äî AI + Modern Web Engineering Patterns<a class="headerlink" href="#demo-portfolio-architecture--ai--modern-web-engineering-patterns" title="Permanent link">&para;</a></h1>
<blockquote>
<p>This guide supports a demo portfolio project. It focuses on patterns, tradeoffs, and implementation details that matter in AI and modern web app engineering. Production hardening and full productization are out of scope.</p>
</blockquote>
<h2 id="table-of-contents">Table of Contents<a class="headerlink" href="#table-of-contents" title="Permanent link">&para;</a></h2>
<ul>
<li>Demo Portfoloio<ul>
<li><a href="#table-of-contents">Table of Contents</a></li>
<li><a href="#system-overview">System Overview</a><ul>
<li><a href="#key-architectural-principles">Key Architectural Principles</a></li>
</ul>
</li>
<li><a href="#high-level-architecture">High-Level Architecture</a></li>
<li><a href="#component-architecture">Component Architecture</a><ul>
<li><a href="#frontend-architecture-react-native">Frontend Architecture (React Native)</a></li>
<li><a href="#backend-architecture">Backend Architecture</a></li>
</ul>
</li>
<li><a href="#data-flow-diagrams">Data Flow Diagrams</a><ul>
<li><a href="#message-processing-flow">Message Processing Flow</a></li>
<li><a href="#agent-selection-flow">Agent Selection Flow</a></li>
<li><a href="#goal-seeking-system-flow">Goal-Seeking System Flow</a></li>
</ul>
</li>
<li><a href="#agent-system-architecture">Agent System Architecture</a><ul>
<li><a href="#agent-hierarchy">Agent Hierarchy</a></li>
<li><a href="#rag-system-architecture">RAG System Architecture</a></li>
</ul>
</li>
<li><a href="#database-design">Database Design</a><ul>
<li><a href="#data-models">Data Models</a></li>
<li><a href="#storage-architecture">Storage Architecture</a></li>
</ul>
</li>
<li><a href="#api-architecture">API Architecture</a><ul>
<li><a href="#rest-api-structure">REST API Structure</a></li>
<li><a href="#websocket-event-architecture">WebSocket Event Architecture</a></li>
</ul>
</li>
<li><a href="#security-architecture">Security Architecture</a><ul>
<li><a href="#security-layers">Security Layers</a></li>
</ul>
</li>
<li><a href="#deployment-architecture">Deployment Architecture</a><ul>
<li><a href="#container-architecture">Container Architecture</a></li>
<li><a href="#docker-deployment">Docker Deployment</a></li>
</ul>
</li>
<li>Monitoring<ul>
<li><a href="#observability-stack">Observability Stack</a></li>
<li><a href="#key-performance-indicators-kpis">Key Performance Indicators (KPIs)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="system-overview">System Overview<a class="headerlink" href="#system-overview" title="Permanent link">&para;</a></h2>
<p>This demo portfolio implements a mobile-first, real-time AI chat system to showcase multi-agent orchestration, goal-seeking behavior, and enterprise-style observability. It demonstrates patterns and tradeoffs rather than delivering a complete product, including intelligent customer service, technical support, and entertainment via specialized agents.</p>
<h3 id="key-architectural-principles">Key Architectural Principles<a class="headerlink" href="#key-architectural-principles" title="Permanent link">&para;</a></h3>
<ul>
<li>Mobile-First: Native React Native/Expo application</li>
<li>Microservices-Ready: Modular backend architecture</li>
<li>Agent-Based: 16 specialized AI agents for different use cases</li>
<li>Real-Time: Socket.io for instant communication</li>
<li>Observable: Comprehensive monitoring and tracing</li>
<li>Scalable: Horizontal scaling capabilities</li>
<li>Type-Safe: Full TypeScript implementation</li>
</ul>
<h2 id="high-level-architecture">High-Level Architecture<a class="headerlink" href="#high-level-architecture" title="Permanent link">&para;</a></h2>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span></pre></div></td><td class="code"><div><pre><span></span><code>graph TB
    subgraph &quot;Client Layer&quot;
        Mobile[üì± React Native App&lt;br/&gt;Expo/Metro]
        Web[üåê Web Interface&lt;br/&gt;Optional]
    end

    subgraph &quot;API Gateway Layer&quot;
        Gateway[üö™ API Gateway&lt;br/&gt;Express.js]
        Socket[üîå Socket.io Server&lt;br/&gt;Real-time Communication]
    end

    subgraph &quot;Business Logic Layer&quot;
        AgentRouter[ü§ñ Agent Router&lt;br/&gt;Message Classification]
        GoalSeeker[üéØ Goal-Seeking System&lt;br/&gt;Proactive Actions]
        Validator[‚úÖ Response Validator&lt;br/&gt;Quality Control]
    end

    subgraph &quot;Agent Layer&quot;
        TechAgent[üë®‚Äçüíª Technical Agent]
        EntertainmentAgent[üé≠ Entertainment Agents]
        SupportAgent[üìû Support Agents]
        CustomerAgent[üéß Customer Service]
        HoldAgent[‚è≥ Hold Management]
    end

    subgraph &quot;Data Layer&quot;
        Memory[üíæ Memory Storage&lt;br/&gt;Conversations &amp; State]
        RAG[üìö RAG Content DB&lt;br/&gt;Curated Entertainment]
        Metrics[üìä Metrics Storage&lt;br/&gt;Performance Data]
    end

    subgraph &quot;External Services&quot;
        OpenAI[üß† OpenAI API&lt;br/&gt;GPT Models]
        Monitoring[üìà Observability&lt;br/&gt;Jaeger/Prometheus]
    end

    Mobile --&gt; Gateway
    Web --&gt; Gateway
    Mobile &lt;--&gt; Socket

    Gateway --&gt; AgentRouter
    Socket --&gt; AgentRouter

    AgentRouter --&gt; GoalSeeker
    AgentRouter --&gt; Validator

    GoalSeeker --&gt; TechAgent
    GoalSeeker --&gt; EntertainmentAgent
    GoalSeeker --&gt; SupportAgent
    GoalSeeker --&gt; CustomerAgent
    GoalSeeker --&gt; HoldAgent

    TechAgent --&gt; Memory
    EntertainmentAgent --&gt; RAG
    SupportAgent --&gt; Memory
    CustomerAgent --&gt; Memory
    HoldAgent --&gt; Memory

    TechAgent --&gt; OpenAI
    EntertainmentAgent --&gt; OpenAI

    Validator --&gt; Metrics
    GoalSeeker --&gt; Monitoring
    Socket --&gt; Monitoring

    classDef client fill:#e1f5fe
    classDef api fill:#f3e5f5
    classDef logic fill:#e8f5e8
    classDef agents fill:#fff3e0
    classDef data fill:#fce4ec
    classDef external fill:#f1f8e9

    class Mobile,Web client
    class Gateway,Socket api
    class AgentRouter,GoalSeeker,Validator logic
    class TechAgent,EntertainmentAgent,SupportAgent,CustomerAgent,HoldAgent agents
    class Memory,RAG,Metrics data
    class OpenAI,Monitoring external
</code></pre></div></td></tr></table></div>
<h2 id="component-architecture">Component Architecture<a class="headerlink" href="#component-architecture" title="Permanent link">&para;</a></h2>
<h3 id="frontend-architecture-react-native">Frontend Architecture (React Native)<a class="headerlink" href="#frontend-architecture-react-native" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span></pre></div></td><td class="code"><div><pre><span></span><code>graph TB
    subgraph &quot;React Native App Structure&quot;
        App[üì± App.tsx&lt;br/&gt;Root Component]
        Router[üß≠ Expo Router&lt;br/&gt;Navigation]

        subgraph &quot;Screens&quot;
            ChatScreen[üí¨ Chat Screen&lt;br/&gt;Main Interface]
            DashboardScreen[üìä Dashboard Screen&lt;br/&gt;Validation Metrics]
            ExploreScreen[üîç Explore Screen&lt;br/&gt;Agent Selection]
        end

        subgraph &quot;Components&quot;
            MessageInput[‚å®Ô∏è Message Input&lt;br/&gt;Text Input &amp; Send]
            ChatBubble[üí≠ Message Bubble&lt;br/&gt;User/Agent Messages]
            AgentStatus[ü§ñ Agent Status Bar&lt;br/&gt;Current Agent Display]
            ValidationDash[üìà Validation Dashboard&lt;br/&gt;Quality Metrics]
        end

        subgraph &quot;Services&quot;
            SocketService[üîå Socket Service&lt;br/&gt;Real-time Connection]
            ApiService[üåê API Service&lt;br/&gt;HTTP Requests]
            StateService[üóÇÔ∏è State Management&lt;br/&gt;Conversation State]
        end

        subgraph &quot;Types &amp; Utils&quot;
            Types[üìù TypeScript Types&lt;br/&gt;Shared Interfaces]
            Constants[‚öôÔ∏è Constants&lt;br/&gt;Configuration]
            Hooks[üé£ Custom Hooks&lt;br/&gt;Reusable Logic]
        end
    end

    App --&gt; Router
    Router --&gt; ChatScreen
    Router --&gt; DashboardScreen
    Router --&gt; ExploreScreen

    ChatScreen --&gt; MessageInput
    ChatScreen --&gt; ChatBubble
    ChatScreen --&gt; AgentStatus

    DashboardScreen --&gt; ValidationDash

    MessageInput --&gt; SocketService
    ChatBubble --&gt; StateService
    AgentStatus --&gt; StateService

    SocketService --&gt; ApiService
    StateService --&gt; Types

    Components --&gt; Hooks
    Services --&gt; Constants

    classDef screen fill:#e3f2fd
    classDef component fill:#f1f8e9
    classDef service fill:#fff8e1
    classDef util fill:#fce4ec

    class ChatScreen,DashboardScreen,ExploreScreen screen
    class MessageInput,ChatBubble,AgentStatus,ValidationDash component
    class SocketService,ApiService,StateService service
    class Types,Constants,Hooks util
</code></pre></div></td></tr></table></div>
<h3 id="backend-architecture">Backend Architecture<a class="headerlink" href="#backend-architecture" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span></pre></div></td><td class="code"><div><pre><span></span><code>graph TB
    subgraph &quot;Backend Server Architecture&quot;
        Index[üöÄ index.ts&lt;br/&gt;Server Entry Point]

        subgraph &quot;Routes Layer&quot;
            ChatRoute[üí¨ Chat Routes&lt;br/&gt;/api/chat]
            ConversationRoute[üóÇÔ∏è Conversation Routes&lt;br/&gt;/api/conversations]
            ValidationRoute[‚úÖ Validation Routes&lt;br/&gt;/api/validation]
            TestBenchRoute[üß™ Test Bench Routes&lt;br/&gt;/api/test-bench]
            SwaggerRoute[üìñ API Docs&lt;br/&gt;/api/docs]
        end

        subgraph &quot;Agent System&quot;
            AgentService[ü§ñ Agent Service&lt;br/&gt;Agent Management]
            Classifier[üîç Message Classifier&lt;br/&gt;Intent Recognition]
            GoalSeeker[üéØ Goal-Seeking System&lt;br/&gt;Proactive Behavior]
            ConversationMgr[üí¨ Conversation Manager&lt;br/&gt;Context Management]
        end

        subgraph &quot;Specialized Services&quot;
            RAGService[üìö RAG Service&lt;br/&gt;Content Retrieval]
            DNDService[üé≤ D&amp;D Service&lt;br/&gt;RPG Mechanics]
            JokeLearning[üòÑ Joke Learning&lt;br/&gt;Humor Adaptation]
            ResponseValidator[‚úÖ Response Validator&lt;br/&gt;Quality Control]
        end

        subgraph &quot;Infrastructure&quot;
            SocketHandler[üîå Socket Handlers&lt;br/&gt;WebSocket Events]
            MemoryStorage[üíæ Memory Storage&lt;br/&gt;Data Persistence]
            Prometheus[üìä Prometheus Metrics&lt;br/&gt;Performance Monitoring]
            Tracer[üîç OpenTelemetry&lt;br/&gt;Distributed Tracing]
        end
    end

    Index --&gt; ChatRoute
    Index --&gt; ConversationRoute
    Index --&gt; ValidationRoute
    Index --&gt; TestBenchRoute
    Index --&gt; SwaggerRoute
    Index --&gt; SocketHandler

    ChatRoute --&gt; AgentService
    ConversationRoute --&gt; ConversationMgr
    ValidationRoute --&gt; ResponseValidator

    AgentService --&gt; Classifier
    AgentService --&gt; GoalSeeker

    Classifier --&gt; RAGService
    Classifier --&gt; DNDService
    Classifier --&gt; JokeLearning

    GoalSeeker --&gt; ConversationMgr
    ConversationMgr --&gt; MemoryStorage

    SocketHandler --&gt; AgentService
    SocketHandler --&gt; ResponseValidator

    ResponseValidator --&gt; Prometheus
    AgentService --&gt; Tracer
    GoalSeeker --&gt; Tracer

    classDef route fill:#e8eaf6
    classDef agent fill:#e0f2f1
    classDef service fill:#fff3e0
    classDef infra fill:#fce4ec

    class ChatRoute,ConversationRoute,ValidationRoute,TestBenchRoute,SwaggerRoute route
    class AgentService,Classifier,GoalSeeker,ConversationMgr agent
    class RAGService,DNDService,JokeLearning,ResponseValidator service
    class SocketHandler,MemoryStorage,Prometheus,Tracer infra
</code></pre></div></td></tr></table></div>
<h2 id="data-flow-diagrams">Data Flow Diagrams<a class="headerlink" href="#data-flow-diagrams" title="Permanent link">&para;</a></h2>
<h3 id="message-processing-flow">Message Processing Flow<a class="headerlink" href="#message-processing-flow" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span></pre></div></td><td class="code"><div><pre><span></span><code>sequenceDiagram
    participant U as User
    participant F as Frontend
    participant S as Socket.io
    participant C as Classifier
    participant G as Goal Seeker
    participant A as Agent
    participant V as Validator
    participant O as OpenAI

    U-&gt;&gt;F: Types message
    F-&gt;&gt;S: emit(&#39;message&#39;, data)
    S-&gt;&gt;C: Classify message intent
    C-&gt;&gt;G: Update user context
    G-&gt;&gt;A: Route to appropriate agent
    A-&gt;&gt;O: Generate response (if needed)
    O-&gt;&gt;A: AI response
    A-&gt;&gt;V: Validate response
    V-&gt;&gt;S: Validated response
    S-&gt;&gt;F: emit(&#39;response&#39;, data)
    F-&gt;&gt;U: Display response

    Note over G: Update goals &amp; context
    G-&gt;&gt;A: Trigger proactive actions (if needed)
    A-&gt;&gt;S: Proactive message
    S-&gt;&gt;F: emit(&#39;proactive&#39;, data)
    F-&gt;&gt;U: Display proactive content
</code></pre></div></td></tr></table></div>
<h3 id="agent-selection-flow">Agent Selection Flow<a class="headerlink" href="#agent-selection-flow" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span></pre></div></td><td class="code"><div><pre><span></span><code>flowchart TD
    Start([User Message Received])

    Classify{Message Classification}

    Technical[üîß Technical Keywords?]
    Entertainment[üé≠ Entertainment Request?]
    Support[üìû Support Keywords?]
    Hold[‚è≥ Hold State?]
    General[üí¨ General/Unknown]

    TechAgent[üë®‚Äçüíª Technical Agent]
    JokeAgent[üòÑ Joke Master]
    TriviaAgent[üß† Trivia Master]
    GifAgent[üé¨ GIF Master]
    StoryAgent[üìö Story Teller]
    RiddleAgent[üß© Riddle Master]
    GameAgent[üéÆ Game Host]
    AccountAgent[üë§ Account Support]
    BillingAgent[üí≥ Billing Support]
    WebsiteAgent[üåê Website Support]
    OperatorAgent[üéß Customer Service]
    HoldAgent[üìû Hold Agent]
    GeneralAgent[ü§ñ General Router]

    Response([Generate Response])

    Start --&gt; Classify

    Classify --&gt; Technical
    Classify --&gt; Entertainment
    Classify --&gt; Support
    Classify --&gt; Hold
    Classify --&gt; General

    Technical --&gt; TechAgent

    Entertainment --&gt; JokeAgent
    Entertainment --&gt; TriviaAgent
    Entertainment --&gt; GifAgent
    Entertainment --&gt; StoryAgent
    Entertainment --&gt; RiddleAgent
    Entertainment --&gt; GameAgent

    Support --&gt; AccountAgent
    Support --&gt; BillingAgent
    Support --&gt; WebsiteAgent
    Support --&gt; OperatorAgent

    Hold --&gt; HoldAgent
    General --&gt; GeneralAgent

    TechAgent --&gt; Response
    JokeAgent --&gt; Response
    TriviaAgent --&gt; Response
    GifAgent --&gt; Response
    StoryAgent --&gt; Response
    RiddleAgent --&gt; Response
    GameAgent --&gt; Response
    AccountAgent --&gt; Response
    BillingAgent --&gt; Response
    WebsiteAgent --&gt; Response
    OperatorAgent --&gt; Response
    HoldAgent --&gt; Response
    GeneralAgent --&gt; Response

    classDef technical fill:#e3f2fd
    classDef entertainment fill:#f1f8e9
    classDef support fill:#fff3e0
    classDef hold fill:#fce4ec
    classDef general fill:#f3e5f5

    class TechAgent technical
    class JokeAgent,TriviaAgent,GifAgent,StoryAgent,RiddleAgent,GameAgent entertainment
    class AccountAgent,BillingAgent,WebsiteAgent,OperatorAgent support
    class HoldAgent hold
    class GeneralAgent general
</code></pre></div></td></tr></table></div>
<h3 id="goal-seeking-system-flow">Goal-Seeking System Flow<a class="headerlink" href="#goal-seeking-system-flow" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span></pre></div></td><td class="code"><div><pre><span></span><code>flowchart TD
    UserConnect([User Connects])

    InitState[Initialize User State&lt;br/&gt;- on_hold: true&lt;br/&gt;- engagement: neutral&lt;br/&gt;- preferences: unknown]

    MonitorLoop{Monitor User Activity}

    Engaged[User Active/Engaged]
    Idle[User Idle &gt; 30s]
    Frustrated[Negative Signals]

    UpdateGoals[Update Goal Priorities&lt;br/&gt;- Entertainment Goal&lt;br/&gt;- Support Goal&lt;br/&gt;- Satisfaction Goal]

    SelectAction{Select Proactive Action}

    OfferJoke[üé≠ Offer Humor]
    ShareTrivia[üß† Share Facts]
    ShowGif[üé¨ Visual Entertainment]
    PlayGame[üéÆ Interactive Games]
    CheckStatus[üìû Status Update]

    ExecuteAction[Execute Proactive Action]

    MeasureResponse{Measure User Response}

    Positive[Positive Response&lt;br/&gt;- Engagement ‚Üë&lt;br/&gt;- Satisfaction ‚Üë]
    Negative[Negative Response&lt;br/&gt;- Try Different Approach]
    NoResponse[No Response&lt;br/&gt;- Adjust Timing]

    LearnPrefs[Update User Preferences&lt;br/&gt;- Content Type&lt;br/&gt;- Timing&lt;br/&gt;- Frequency]

    UserConnect --&gt; InitState
    InitState --&gt; MonitorLoop

    MonitorLoop --&gt; Engaged
    MonitorLoop --&gt; Idle
    MonitorLoop --&gt; Frustrated

    Engaged --&gt; UpdateGoals
    Idle --&gt; UpdateGoals
    Frustrated --&gt; UpdateGoals

    UpdateGoals --&gt; SelectAction

    SelectAction --&gt; OfferJoke
    SelectAction --&gt; ShareTrivia
    SelectAction --&gt; ShowGif
    SelectAction --&gt; PlayGame
    SelectAction --&gt; CheckStatus

    OfferJoke --&gt; ExecuteAction
    ShareTrivia --&gt; ExecuteAction
    ShowGif --&gt; ExecuteAction
    PlayGame --&gt; ExecuteAction
    CheckStatus --&gt; ExecuteAction

    ExecuteAction --&gt; MeasureResponse

    MeasureResponse --&gt; Positive
    MeasureResponse --&gt; Negative
    MeasureResponse --&gt; NoResponse

    Positive --&gt; LearnPrefs
    Negative --&gt; LearnPrefs
    NoResponse --&gt; LearnPrefs

    LearnPrefs --&gt; MonitorLoop

    classDef state fill:#e1f5fe
    classDef action fill:#e8f5e8
    classDef response fill:#fff3e0
    classDef learning fill:#fce4ec

    class InitState,UpdateGoals state
    class OfferJoke,ShareTrivia,ShowGif,PlayGame,CheckStatus action
    class Positive,Negative,NoResponse response
    class LearnPrefs learning
</code></pre></div></td></tr></table></div>
<h2 id="agent-system-architecture">Agent System Architecture<a class="headerlink" href="#agent-system-architecture" title="Permanent link">&para;</a></h2>
<h3 id="agent-hierarchy">Agent Hierarchy<a class="headerlink" href="#agent-hierarchy" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span></pre></div></td><td class="code"><div><pre><span></span><code>graph TB
    subgraph &quot;Agent Classification System&quot;
        Router[ü§ñ Agent Router&lt;br/&gt;Message Classification &amp; Routing]

        subgraph &quot;Entertainment Agents&quot;
            Joke[üé≠ Adaptive Joke Master&lt;br/&gt;Humor with Learning]
            Trivia[üß† Trivia Master&lt;br/&gt;Educational Facts]
            Gif[üé¨ GIF Master&lt;br/&gt;Visual Entertainment]
            Story[üìö Story Teller&lt;br/&gt;Interactive Narratives]
            Riddle[üß© Riddle Master&lt;br/&gt;Brain Teasers]
            Quote[üí´ Quote Master&lt;br/&gt;Inspirational Content]
            Game[üéÆ Game Host&lt;br/&gt;Interactive Games]
            Music[üéµ Music Guru&lt;br/&gt;Music Recommendations]
            YouTube[üì∫ YouTube Guru&lt;br/&gt;Video Curation]
            DND[üé≤ D&amp;D Master&lt;br/&gt;RPG Adventures]
        end

        subgraph &quot;Support Agents&quot;
            Account[üë§ Account Support&lt;br/&gt;User Account Issues]
            Billing[üí≥ Billing Support&lt;br/&gt;Payment &amp; Subscriptions]
            Website[üåê Website Issues&lt;br/&gt;Technical Web Support]
            Operator[üéß Customer Service&lt;br/&gt;General Support Router]
        end

        subgraph &quot;Specialized Agents&quot;
            Hold[üìû Hold Agent&lt;br/&gt;Wait Management]
            General[üí¨ General Router&lt;br/&gt;Fallback &amp; Routing]
        end
    end

    Router --&gt; Joke
    Router --&gt; Trivia
    Router --&gt; Gif
    Router --&gt; Story
    Router --&gt; Riddle
    Router --&gt; Quote
    Router --&gt; Game
    Router --&gt; Music
    Router --&gt; YouTube
    Router --&gt; DND

    Router --&gt; Account
    Router --&gt; Billing
    Router --&gt; Website
    Router --&gt; Operator

    Router --&gt; Hold
    Router --&gt; General

    classDef entertainment fill:#e8f5e8
    classDef support fill:#fff3e0
    classDef specialized fill:#e3f2fd
    classDef router fill:#fce4ec

    class Joke,Trivia,Gif,Story,Riddle,Quote,Game,Music,YouTube,DND entertainment
    class Account,Billing,Website,Operator support
    class Hold,General specialized
    class Router router
</code></pre></div></td></tr></table></div>
<h3 id="rag-system-architecture">RAG System Architecture<a class="headerlink" href="#rag-system-architecture" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span></pre></div></td><td class="code"><div><pre><span></span><code>graph TB
    subgraph &quot;RAG (Retrieval-Augmented Generation) System&quot;
        Query[User Query/Request]

        ContentDB[(üìö Curated Content Database&lt;br/&gt;‚Ä¢ 10 Premium Jokes (4-5‚≠ê)&lt;br/&gt;‚Ä¢ 10 Fascinating Facts&lt;br/&gt;‚Ä¢ 10 Entertaining GIFs&lt;br/&gt;‚Ä¢ Quality Rated Content)]

        Retriever[üîç Content Retriever&lt;br/&gt;Semantic Search &amp; Matching]

        Ranker[üìä Content Ranker&lt;br/&gt;‚Ä¢ Relevance Scoring&lt;br/&gt;‚Ä¢ Quality Rating&lt;br/&gt;‚Ä¢ User Preference Matching&lt;br/&gt;‚Ä¢ Context Appropriateness]

        Generator[ü§ñ Response Generator&lt;br/&gt;Enhanced AI Response with Retrieved Content]

        Response[üì§ Enhanced Response&lt;br/&gt;High-Quality + AI Generated]
    end

    Query --&gt; Retriever
    ContentDB --&gt; Retriever
    Retriever --&gt; Ranker
    Ranker --&gt; Generator
    Generator --&gt; Response

    subgraph &quot;Content Categories&quot;
        Jokes[üòÑ Premium Jokes&lt;br/&gt;‚Ä¢ Dad Jokes&lt;br/&gt;‚Ä¢ Wordplay&lt;br/&gt;‚Ä¢ Tech Humor&lt;br/&gt;‚Ä¢ Clean Comedy]

        Trivia[üß† Fascinating Facts&lt;br/&gt;‚Ä¢ Science&lt;br/&gt;‚Ä¢ History&lt;br/&gt;‚Ä¢ Nature&lt;br/&gt;‚Ä¢ Technology]

        Gifs[üé¨ Curated GIFs&lt;br/&gt;‚Ä¢ Funny Animals&lt;br/&gt;‚Ä¢ Reactions&lt;br/&gt;‚Ä¢ Celebrations&lt;br/&gt;‚Ä¢ Universal Appeal]
    end

    ContentDB --&gt; Jokes
    ContentDB --&gt; Trivia
    ContentDB --&gt; Gifs

    classDef content fill:#e8f5e8
    classDef process fill:#e3f2fd
    classDef data fill:#fff3e0

    class Jokes,Trivia,Gifs content
    class Retriever,Ranker,Generator process
    class ContentDB,Query,Response data
</code></pre></div></td></tr></table></div>
<h2 id="database-design">Database Design<a class="headerlink" href="#database-design" title="Permanent link">&para;</a></h2>
<h3 id="data-models">Data Models<a class="headerlink" href="#data-models" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span>
<span class="normal">97</span></pre></div></td><td class="code"><div><pre><span></span><code>erDiagram
    User ||--o{ Conversation : has
    User ||--o{ UserState : has
    User ||--o{ UserPreferences : has

    Conversation ||--o{ Message : contains
    Conversation ||--o{ ConversationMeta : has

    Message ||--o{ MessageValidation : validated_by
    Message }o--|| Agent : generated_by

    Agent ||--o{ AgentMetrics : tracks
    Agent ||--o{ AgentConfig : configured_by

    RAGContent ||--o{ ContentRating : rated
    RAGContent }o--o{ Message : enhances

    User {
        string id PK
        string username
        string email
        datetime createdAt
        datetime lastActive
        string status
    }

    UserState {
        string userId PK
        string currentState
        json goals
        float engagementLevel
        json preferences
        datetime lastUpdated
    }

    Conversation {
        string id PK
        string userId FK
        string title
        json participants
        datetime createdAt
        datetime updatedAt
        string status
    }

    Message {
        string id PK
        string conversationId FK
        string agentId FK
        string role
        text content
        json metadata
        datetime timestamp
        boolean isProactive
    }

    Agent {
        string id PK
        string name
        string type
        text systemPrompt
        string model
        float temperature
        int maxTokens
        json capabilities
    }

    MessageValidation {
        string messageId PK
        float qualityScore
        float appropriatenessScore
        float relevanceScore
        json issues
        datetime validatedAt
        string validatorVersion
    }

    RAGContent {
        string id PK
        string type
        string category
        text content
        json metadata
        float qualityRating
        json tags
        datetime createdAt
    }

    AgentMetrics {
        string agentId PK
        string date PK
        int messagesHandled
        float avgResponseTime
        float avgQualityScore
        float userSatisfaction
        json performanceData
    }
</code></pre></div></td></tr></table></div>
<h3 id="storage-architecture">Storage Architecture<a class="headerlink" href="#storage-architecture" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span></pre></div></td><td class="code"><div><pre><span></span><code>graph TB
    subgraph &quot;Storage Layer Architecture&quot;
        subgraph &quot;Primary Storage&quot;
            Memory[üíæ Memory Storage&lt;br/&gt;‚Ä¢ Active Conversations&lt;br/&gt;‚Ä¢ User Sessions&lt;br/&gt;‚Ä¢ Real-time State]
        end

        subgraph &quot;Content Storage&quot;
            RAGStore[üìö RAG Content Store&lt;br/&gt;‚Ä¢ Curated Jokes&lt;br/&gt;‚Ä¢ Trivia Facts&lt;br/&gt;‚Ä¢ GIF Database&lt;br/&gt;‚Ä¢ Quality Ratings]
        end

        subgraph &quot;Analytics Storage&quot;
            Metrics[üìä Metrics Store&lt;br/&gt;‚Ä¢ Agent Performance&lt;br/&gt;‚Ä¢ User Analytics&lt;br/&gt;‚Ä¢ Validation Scores&lt;br/&gt;‚Ä¢ System Health]
        end

        subgraph &quot;Future Storage Options&quot;
            MongoDB[(üçÉ MongoDB&lt;br/&gt;Document Store&lt;br/&gt;‚Ä¢ Conversations&lt;br/&gt;‚Ä¢ User Profiles)]

            Redis[(üî¥ Redis&lt;br/&gt;Cache Layer&lt;br/&gt;‚Ä¢ Sessions&lt;br/&gt;‚Ä¢ Quick Access)]

            Postgres[(üêò PostgreSQL&lt;br/&gt;Relational Data&lt;br/&gt;‚Ä¢ User Management&lt;br/&gt;‚Ä¢ Analytics)]

            Elasticsearch[(üîç Elasticsearch&lt;br/&gt;Search Engine&lt;br/&gt;‚Ä¢ Content Search&lt;br/&gt;‚Ä¢ Log Analysis)]
        end
    end

    Memory --&gt; RAGStore
    Memory --&gt; Metrics

    Memory -.-&gt;|Migration Path| MongoDB
    RAGStore -.-&gt;|Caching| Redis
    Metrics -.-&gt;|Analytics| Postgres
    RAGStore -.-&gt;|Search| Elasticsearch

    classDef current fill:#e8f5e8
    classDef future fill:#e3f2fd

    class Memory,RAGStore,Metrics current
    class MongoDB,Redis,Postgres,Elasticsearch future
</code></pre></div></td></tr></table></div>
<h2 id="api-architecture">API Architecture<a class="headerlink" href="#api-architecture" title="Permanent link">&para;</a></h2>
<h3 id="rest-api-structure">REST API Structure<a class="headerlink" href="#rest-api-structure" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span></pre></div></td><td class="code"><div><pre><span></span><code>graph TB
    subgraph &quot;API Layer Structure&quot;
        Client[üì± Client Applications]

        subgraph &quot;API Gateway&quot;
            Gateway[üö™ Express Gateway&lt;br/&gt;‚Ä¢ Route Management&lt;br/&gt;‚Ä¢ Middleware Stack&lt;br/&gt;‚Ä¢ Error Handling]
        end

        subgraph &quot;Route Handlers&quot;
            ChatAPI[üí¨ Chat API&lt;br/&gt;/api/chat&lt;br/&gt;‚Ä¢ Message Sending&lt;br/&gt;‚Ä¢ Streaming Responses]

            ConversationAPI[üóÇÔ∏è Conversation API&lt;br/&gt;/api/conversations&lt;br/&gt;‚Ä¢ CRUD Operations&lt;br/&gt;‚Ä¢ History Management]

            ValidationAPI[‚úÖ Validation API&lt;br/&gt;/api/validation&lt;br/&gt;‚Ä¢ Quality Metrics&lt;br/&gt;‚Ä¢ Dashboard Data]

            AgentAPI[ü§ñ Agent API&lt;br/&gt;/api/agents&lt;br/&gt;‚Ä¢ Agent Status&lt;br/&gt;‚Ä¢ Configuration]

            TestBenchAPI[üß™ Test Bench API&lt;br/&gt;/api/test-bench&lt;br/&gt;‚Ä¢ Agent Testing&lt;br/&gt;‚Ä¢ Performance Metrics]

            DocsAPI[üìñ Documentation API&lt;br/&gt;/api/docs&lt;br/&gt;‚Ä¢ OpenAPI Spec&lt;br/&gt;‚Ä¢ Interactive Docs]
        end

        subgraph &quot;WebSocket Layer&quot;
            SocketIO[üîå Socket.io Server&lt;br/&gt;‚Ä¢ Real-time Messages&lt;br/&gt;‚Ä¢ Event Broadcasting&lt;br/&gt;‚Ä¢ Connection Management]
        end

        subgraph &quot;Middleware Stack&quot;
            Auth[üîê Authentication&lt;br/&gt;JWT Validation]
            CORS[üåê CORS Handler&lt;br/&gt;Cross-Origin Requests]
            RateLimit[‚ö° Rate Limiting&lt;br/&gt;API Protection]
            Logging[üìù Request Logging&lt;br/&gt;Audit Trail]
            ErrorHandler[‚ùå Error Handler&lt;br/&gt;Standardized Responses]
        end
    end

    Client --&gt; Gateway
    Gateway --&gt; ChatAPI
    Gateway --&gt; ConversationAPI
    Gateway --&gt; ValidationAPI
    Gateway --&gt; AgentAPI
    Gateway --&gt; TestBenchAPI
    Gateway --&gt; DocsAPI

    Client &lt;--&gt; SocketIO

    Gateway --&gt; Auth
    Gateway --&gt; CORS
    Gateway --&gt; RateLimit
    Gateway --&gt; Logging
    Gateway --&gt; ErrorHandler

    classDef api fill:#e3f2fd
    classDef middleware fill:#fff3e0
    classDef websocket fill:#e8f5e8

    class ChatAPI,ConversationAPI,ValidationAPI,AgentAPI,TestBenchAPI,DocsAPI api
    class Auth,CORS,RateLimit,Logging,ErrorHandler middleware
    class SocketIO websocket
</code></pre></div></td></tr></table></div>
<h3 id="websocket-event-architecture">WebSocket Event Architecture<a class="headerlink" href="#websocket-event-architecture" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span></pre></div></td><td class="code"><div><pre><span></span><code>sequenceDiagram
    participant C as Client
    participant S as Socket.io Server
    participant A as Agent System
    participant G as Goal Seeker
    participant V as Validator

    Note over C,V: Connection &amp; Setup
    C-&gt;&gt;S: connect()
    S-&gt;&gt;C: connection_established
    C-&gt;&gt;S: join_conversation(conversationId)
    S-&gt;&gt;G: initialize_user_state(userId)
    G-&gt;&gt;C: user_state_initialized

    Note over C,V: Message Flow
    C-&gt;&gt;S: send_message(message, conversationId)
    S-&gt;&gt;A: process_message(message)
    A-&gt;&gt;S: message_processed(response)
    S-&gt;&gt;V: validate_response(response)
    V-&gt;&gt;S: response_validated(validatedResponse)
    S-&gt;&gt;C: message_response(validatedResponse)

    Note over C,V: Proactive Actions
    G-&gt;&gt;S: trigger_proactive_action(action)
    S-&gt;&gt;A: execute_proactive_action(action)
    A-&gt;&gt;S: proactive_response(response)
    S-&gt;&gt;C: proactive_message(response)

    Note over C,V: Status Updates
    A-&gt;&gt;S: agent_status_changed(agentId, status)
    S-&gt;&gt;C: agent_status_update(agentId, status)

    G-&gt;&gt;S: user_state_changed(userId, state)
    S-&gt;&gt;C: user_state_update(state)

    Note over C,V: Error Handling
    S-&gt;&gt;C: error(errorDetails)
    C-&gt;&gt;S: acknowledge_error()

    Note over C,V: Disconnection
    C-&gt;&gt;S: disconnect()
    S-&gt;&gt;G: cleanup_user_state(userId)
</code></pre></div></td></tr></table></div>
<h2 id="security-architecture">Security Architecture<a class="headerlink" href="#security-architecture" title="Permanent link">&para;</a></h2>
<h3 id="security-layers">Security Layers<a class="headerlink" href="#security-layers" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span></pre></div></td><td class="code"><div><pre><span></span><code>graph TB
    subgraph &quot;Security Architecture&quot;
        subgraph &quot;Client Security&quot;
            ClientAuth[üîê Client Authentication&lt;br/&gt;‚Ä¢ JWT Tokens&lt;br/&gt;‚Ä¢ Biometric/PIN&lt;br/&gt;‚Ä¢ Secure Storage]

            ClientValidation[‚úÖ Input Validation&lt;br/&gt;‚Ä¢ XSS Prevention&lt;br/&gt;‚Ä¢ Injection Protection&lt;br/&gt;‚Ä¢ Content Filtering]
        end

        subgraph &quot;Transport Security&quot;
            HTTPS[üîí HTTPS/TLS&lt;br/&gt;‚Ä¢ Certificate Pinning&lt;br/&gt;‚Ä¢ Encrypted Transport&lt;br/&gt;‚Ä¢ Secure WebSockets]
        end

        subgraph &quot;API Security&quot;
            APIAuth[üõ°Ô∏è API Authentication&lt;br/&gt;‚Ä¢ JWT Validation&lt;br/&gt;‚Ä¢ Token Refresh&lt;br/&gt;‚Ä¢ Session Management]

            RateLimiting[‚ö° Rate Limiting&lt;br/&gt;‚Ä¢ DDoS Protection&lt;br/&gt;‚Ä¢ Abuse Prevention&lt;br/&gt;‚Ä¢ Fair Usage]

            InputSanitization[üßΩ Input Sanitization&lt;br/&gt;‚Ä¢ SQL Injection Prevention&lt;br/&gt;‚Ä¢ Command Injection&lt;br/&gt;‚Ä¢ Data Validation]
        end

        subgraph &quot;Data Security&quot;
            Encryption[üîê Data Encryption&lt;br/&gt;‚Ä¢ At-Rest Encryption&lt;br/&gt;‚Ä¢ Field-Level Security&lt;br/&gt;‚Ä¢ Key Management]

            Privacy[üï∂Ô∏è Privacy Controls&lt;br/&gt;‚Ä¢ Data Anonymization&lt;br/&gt;‚Ä¢ Consent Management&lt;br/&gt;‚Ä¢ GDPR Compliance]
        end

        subgraph &quot;Agent Security&quot;
            ResponseFiltering[üö´ Response Filtering&lt;br/&gt;‚Ä¢ Content Safety&lt;br/&gt;‚Ä¢ Harmful Content Detection&lt;br/&gt;‚Ä¢ Bias Prevention]

            PromptInjection[‚ö†Ô∏è Prompt Injection Protection&lt;br/&gt;‚Ä¢ Input Analysis&lt;br/&gt;‚Ä¢ Malicious Pattern Detection&lt;br/&gt;‚Ä¢ Safe AI Responses]
        end
    end

    ClientAuth --&gt; HTTPS
    ClientValidation --&gt; HTTPS

    HTTPS --&gt; APIAuth
    HTTPS --&gt; RateLimiting
    HTTPS --&gt; InputSanitization

    APIAuth --&gt; Encryption
    RateLimiting --&gt; Privacy
    InputSanitization --&gt; ResponseFiltering

    Encryption --&gt; PromptInjection
    Privacy --&gt; PromptInjection
    ResponseFiltering --&gt; PromptInjection

    classDef client fill:#e3f2fd
    classDef transport fill:#e8f5e8
    classDef api fill:#fff3e0
    classDef data fill:#fce4ec
    classDef agent fill:#f1f8e9

    class ClientAuth,ClientValidation client
    class HTTPS transport
    class APIAuth,RateLimiting,InputSanitization api
    class Encryption,Privacy data
    class ResponseFiltering,PromptInjection agent
</code></pre></div></td></tr></table></div>
<h2 id="deployment-architecture">Deployment Architecture<a class="headerlink" href="#deployment-architecture" title="Permanent link">&para;</a></h2>
<h3 id="container-architecture">Container Architecture<a class="headerlink" href="#container-architecture" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span></pre></div></td><td class="code"><div><pre><span></span><code>graph TB
    subgraph &quot;Production Deployment&quot;
        subgraph &quot;Load Balancer Layer&quot;
            LB[‚öñÔ∏è Load Balancer&lt;br/&gt;NGINX/HAProxy&lt;br/&gt;SSL Termination]
        end

        subgraph &quot;Application Layer&quot;
            App1[üöÄ Backend Instance 1&lt;br/&gt;Node.js + Express]
            App2[üöÄ Backend Instance 2&lt;br/&gt;Node.js + Express]
            App3[üöÄ Backend Instance 3&lt;br/&gt;Node.js + Express]
        end

        subgraph &quot;Mobile Distribution&quot;
            AppStore[üì± iOS App Store&lt;br/&gt;Native iOS App]
            PlayStore[ü§ñ Google Play Store&lt;br/&gt;Native Android App]
            Expo[üì± Expo Go&lt;br/&gt;Development Testing]
        end

        subgraph &quot;Data Layer&quot;
            MongoDB[(üçÉ MongoDB Cluster&lt;br/&gt;Primary + Replicas)]
            Redis[(üî¥ Redis Cluster&lt;br/&gt;Cache + Sessions)]
        end

        subgraph &quot;Monitoring Stack&quot;
            Prometheus[üìä Prometheus&lt;br/&gt;Metrics Collection]
            Grafana[üìà Grafana&lt;br/&gt;Visualization]
            Jaeger[üîç Jaeger&lt;br/&gt;Distributed Tracing]
            AlertManager[üö® AlertManager&lt;br/&gt;Alert Routing]
        end

        subgraph &quot;External Services&quot;
            OpenAIAPI[üß† OpenAI API&lt;br/&gt;GPT Models]
            CDN[üåê CDN&lt;br/&gt;Static Assets]
        end
    end

    LB --&gt; App1
    LB --&gt; App2
    LB --&gt; App3

    App1 --&gt; MongoDB
    App2 --&gt; MongoDB
    App3 --&gt; MongoDB

    App1 --&gt; Redis
    App2 --&gt; Redis
    App3 --&gt; Redis

    App1 --&gt; OpenAIAPI
    App2 --&gt; OpenAIAPI
    App3 --&gt; OpenAIAPI

    AppStore --&gt; LB
    PlayStore --&gt; LB
    Expo --&gt; LB

    App1 --&gt; Prometheus
    App2 --&gt; Prometheus
    App3 --&gt; Prometheus

    Prometheus --&gt; Grafana
    Prometheus --&gt; AlertManager

    App1 --&gt; Jaeger
    App2 --&gt; Jaeger
    App3 --&gt; Jaeger

    classDef lb fill:#e3f2fd
    classDef app fill:#e8f5e8
    classDef mobile fill:#fff3e0
    classDef data fill:#fce4ec
    classDef monitoring fill:#f1f8e9
    classDef external fill:#f3e5f5

    class LB lb
    class App1,App2,App3 app
    class AppStore,PlayStore,Expo mobile
    class MongoDB,Redis data
    class Prometheus,Grafana,Jaeger,AlertManager monitoring
    class OpenAIAPI,CDN external
</code></pre></div></td></tr></table></div>
<h3 id="docker-deployment">Docker Deployment<a class="headerlink" href="#docker-deployment" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span></pre></div></td><td class="code"><div><pre><span></span><code>graph TB
    subgraph &quot;Docker Compose Stack&quot;
        subgraph &quot;Application Services&quot;
            BackendContainer[üê≥ Backend Container&lt;br/&gt;‚Ä¢ Node.js App&lt;br/&gt;‚Ä¢ Health Checks&lt;br/&gt;‚Ä¢ Auto-restart]

            RedisContainer[üê≥ Redis Container&lt;br/&gt;‚Ä¢ Session Storage&lt;br/&gt;‚Ä¢ Cache Layer&lt;br/&gt;‚Ä¢ Persistence]
        end

        subgraph &quot;Monitoring Services&quot;
            PrometheusContainer[üê≥ Prometheus Container&lt;br/&gt;‚Ä¢ Metrics Collection&lt;br/&gt;‚Ä¢ Data Retention&lt;br/&gt;‚Ä¢ Alert Rules]

            GrafanaContainer[üê≥ Grafana Container&lt;br/&gt;‚Ä¢ Dashboards&lt;br/&gt;‚Ä¢ Visualizations&lt;br/&gt;‚Ä¢ User Management]

            JaegerContainer[üê≥ Jaeger Container&lt;br/&gt;‚Ä¢ Trace Collection&lt;br/&gt;‚Ä¢ UI Interface&lt;br/&gt;‚Ä¢ Data Storage]
        end

        subgraph &quot;Infrastructure Services&quot;
            NGINXContainer[üê≥ NGINX Container&lt;br/&gt;‚Ä¢ Reverse Proxy&lt;br/&gt;‚Ä¢ SSL Termination&lt;br/&gt;‚Ä¢ Load Balancing]

            OtelContainer[üê≥ OTEL Collector&lt;br/&gt;‚Ä¢ Trace Processing&lt;br/&gt;‚Ä¢ Metrics Pipeline&lt;br/&gt;‚Ä¢ Export Configuration]
        end

        subgraph &quot;Data Volumes&quot;
            PrometheusData[(üìä Prometheus Data&lt;br/&gt;Time Series Storage)]
            GrafanaData[(üìà Grafana Data&lt;br/&gt;Dashboards &amp; Config)]
            RedisData[(üî¥ Redis Data&lt;br/&gt;Cache Persistence)]
        end
    end

    NGINXContainer --&gt; BackendContainer
    BackendContainer --&gt; RedisContainer

    BackendContainer --&gt; OtelContainer
    OtelContainer --&gt; PrometheusContainer
    OtelContainer --&gt; JaegerContainer

    PrometheusContainer --&gt; GrafanaContainer

    PrometheusContainer --&gt; PrometheusData
    GrafanaContainer --&gt; GrafanaData
    RedisContainer --&gt; RedisData

    classDef app fill:#e8f5e8
    classDef monitoring fill:#fff3e0
    classDef infra fill:#e3f2fd
    classDef data fill:#fce4ec

    class BackendContainer,RedisContainer app
    class PrometheusContainer,GrafanaContainer,JaegerContainer monitoring
    class NGINXContainer,OtelContainer infra
    class PrometheusData,GrafanaData,RedisData data
</code></pre></div></td></tr></table></div>
<h2 id="monitoring--observability">Monitoring &amp; Observability<a class="headerlink" href="#monitoring--observability" title="Permanent link">&para;</a></h2>
<h3 id="observability-stack">Observability Stack<a class="headerlink" href="#observability-stack" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span></pre></div></td><td class="code"><div><pre><span></span><code>graph TB
    subgraph &quot;Three Pillars of Observability&quot;
        subgraph &quot;Metrics&quot;
            AppMetrics[üìä Application Metrics&lt;br/&gt;‚Ä¢ Response Times&lt;br/&gt;‚Ä¢ Error Rates&lt;br/&gt;‚Ä¢ Throughput&lt;br/&gt;‚Ä¢ Resource Usage]

            AgentMetrics[ü§ñ Agent Metrics&lt;br/&gt;‚Ä¢ Agent Selection&lt;br/&gt;‚Ä¢ Response Quality&lt;br/&gt;‚Ä¢ User Satisfaction&lt;br/&gt;‚Ä¢ Goal Achievement]

            InfraMetrics[üñ•Ô∏è Infrastructure Metrics&lt;br/&gt;‚Ä¢ CPU/Memory Usage&lt;br/&gt;‚Ä¢ Network I/O&lt;br/&gt;‚Ä¢ Disk Usage&lt;br/&gt;‚Ä¢ Container Health]
        end

        subgraph &quot;Logs&quot;
            AppLogs[üìù Application Logs&lt;br/&gt;‚Ä¢ Request/Response&lt;br/&gt;‚Ä¢ Error Messages&lt;br/&gt;‚Ä¢ Debug Information&lt;br/&gt;‚Ä¢ Audit Trail]

            AgentLogs[ü§ñ Agent Logs&lt;br/&gt;‚Ä¢ Agent Decisions&lt;br/&gt;‚Ä¢ Classification Results&lt;br/&gt;‚Ä¢ Goal State Changes&lt;br/&gt;‚Ä¢ User Interactions]

            InfraLogs[üñ•Ô∏è Infrastructure Logs&lt;br/&gt;‚Ä¢ Container Logs&lt;br/&gt;‚Ä¢ System Events&lt;br/&gt;‚Ä¢ Security Events&lt;br/&gt;‚Ä¢ Performance Issues]
        end

        subgraph &quot;Traces&quot;
            RequestTraces[üîç Request Traces&lt;br/&gt;‚Ä¢ End-to-End Journey&lt;br/&gt;‚Ä¢ Service Dependencies&lt;br/&gt;‚Ä¢ Performance Bottlenecks&lt;br/&gt;‚Ä¢ Error Propagation]

            AgentTraces[ü§ñ Agent Traces&lt;br/&gt;‚Ä¢ Message Processing&lt;br/&gt;‚Ä¢ Agent Selection Flow&lt;br/&gt;‚Ä¢ Goal-Seeking Actions&lt;br/&gt;‚Ä¢ Validation Pipeline]
        end
    end

    subgraph &quot;Collection &amp; Processing&quot;
        OTELCollector[üì° OpenTelemetry Collector&lt;br/&gt;‚Ä¢ Data Collection&lt;br/&gt;‚Ä¢ Processing Pipeline&lt;br/&gt;‚Ä¢ Export Configuration&lt;br/&gt;‚Ä¢ Protocol Translation]
    end

    subgraph &quot;Storage &amp; Analysis&quot;
        Prometheus[(üìä Prometheus&lt;br/&gt;Metrics Storage)]
        Jaeger[(üîç Jaeger&lt;br/&gt;Trace Storage)]
        Loki[(üìù Grafana Loki&lt;br/&gt;Log Aggregation)]
    end

    subgraph &quot;Visualization &amp; Alerting&quot;
        Grafana[üìà Grafana Dashboards&lt;br/&gt;‚Ä¢ Real-time Monitoring&lt;br/&gt;‚Ä¢ Custom Dashboards&lt;br/&gt;‚Ä¢ Alert Rules&lt;br/&gt;‚Ä¢ Notification Channels]
    end

    AppMetrics --&gt; OTELCollector
    AgentMetrics --&gt; OTELCollector
    InfraMetrics --&gt; OTELCollector

    AppLogs --&gt; OTELCollector
    AgentLogs --&gt; OTELCollector
    InfraLogs --&gt; OTELCollector

    RequestTraces --&gt; OTELCollector
    AgentTraces --&gt; OTELCollector

    OTELCollector --&gt; Prometheus
    OTELCollector --&gt; Jaeger
    OTELCollector --&gt; Loki

    Prometheus --&gt; Grafana
    Jaeger --&gt; Grafana
    Loki --&gt; Grafana

    classDef metrics fill:#e8f5e8
    classDef logs fill:#fff3e0
    classDef traces fill:#e3f2fd
    classDef collection fill:#fce4ec
    classDef storage fill:#f1f8e9
    classDef visualization fill:#f3e5f5

    class AppMetrics,AgentMetrics,InfraMetrics metrics
    class AppLogs,AgentLogs,InfraLogs logs
    class RequestTraces,AgentTraces traces
    class OTELCollector collection
    class Prometheus,Jaeger,Loki storage
    class Grafana visualization
</code></pre></div></td></tr></table></div>
<h3 id="key-performance-indicators-kpis">Key Performance Indicators (KPIs)<a class="headerlink" href="#key-performance-indicators-kpis" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code>graph LR
    subgraph &quot;Business KPIs&quot;
        UserSat[üë• User Satisfaction&lt;br/&gt;‚Ä¢ Engagement Score&lt;br
</code></pre></div></td></tr></table></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../system-overview/" class="md-footer__link md-footer__link--prev" aria-label="Previous: System Overview">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                System Overview
              </div>
            </div>
          </a>
        
        
          
          <a href="../components/agents/" class="md-footer__link md-footer__link--next" aria-label="Next: Agents">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Agents
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.footer", "content.action.edit"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="../../search/main.js"></script>
      
    
  </body>
</html>